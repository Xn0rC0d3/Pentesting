#! /bin/bash

if [ $1 ]; then #check if arg is given by user
  ip_address=$1  #assign value from arg to variable
  for port in $(seq 1 65535); do  #iterate along all ports
    timeout 1 bash -c "echo '' > /dev/tcp/$ip_address/$port" 2>/dev/null && echo "[*] Port $port - OPEN" &
  done; wait
else #if no arg given, show user sintax of script
  echo -e "\n[*] Uso: ./oPR.sh <ip-address>\n"
  exit 1
fi
